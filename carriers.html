<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <title>–ë–æ–ª–æ–º–∂–∏—Ç —Ö“Ø—Ä–≥—ç–≥—á–∏–¥</title>
  <style>
    body { font-family: Arial; background:#f9f9f9; padding:20px; }
    .card { background:white; padding:15px; margin:15px auto; max-width:400px;
            border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,.1); }
    button { margin-right:10px; }
    a { display:block; text-align:center; margin-top:30px; color:#2196F3; text-decoration:none; }
  </style>
</head>
<body>

<h1 style="text-align:center;">–ë–æ–ª–æ–º–∂–∏—Ç —Ö“Ø—Ä–≥—ç–≥—á–∏–¥</h1>
<div id="list"></div>
<a href="index.html">‚Üê –ë—É—Ü–∞—Ö</a>

<script>
let carriers = JSON.parse(localStorage.getItem("carriers")) || [];
const list = document.getElementById("list");

function render() {
  list.innerHTML = "";
  if (carriers.length === 0) {
    list.innerHTML = "<p style='text-align:center;color:gray;'>–•–æ–æ—Å–æ–Ω –±–∞–π–Ω–∞</p>";
    return;
  }

  carriers.forEach(c => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <p><strong>–£—Ç–∞—Å:</strong> ${c.phone}</p>
      <p><strong>–¢–∞–π–ª–±–∞—Ä:</strong> ${c.desc}</p>
      <button onclick="editCarrier(${c.id})">‚úèÔ∏è –ó–∞—Å–∞—Ö</button>
      <button onclick="deleteCarrier(${c.id})">üóëÔ∏è –£—Å—Ç–≥–∞—Ö</button>
    `;
    list.appendChild(div);
  });
}

function deleteCarrier(id) {
  const pin = prompt("PIN –æ—Ä—É—É–ª–Ω–∞ —É—É:");
  carriers = carriers.filter(c => !(c.id === id && c.pin === pin));
  localStorage.setItem("carriers", JSON.stringify(carriers));
  render();
}

function editCarrier(id) {
  const pin = prompt("PIN –æ—Ä—É—É–ª–Ω–∞ —É—É:");
  const carrier = carriers.find(c => c.id === id && c.pin === pin);
  if (!carrier) {
    alert("PIN –±—É—Ä—É—É –±–∞–π–Ω–∞");
    return;
  }

  const newPhone = prompt("–®–∏–Ω—ç —É—Ç–∞—Å:", carrier.phone);
  const newDesc = prompt("–®–∏–Ω—ç —Ç–∞–π–ª–±–∞—Ä:", carrier.desc);

  carrier.phone = newPhone;
  carrier.desc = newDesc;

  localStorage.setItem("carriers", JSON.stringify(carriers));
  render();
}

render();
</script>

</body>
</html>
